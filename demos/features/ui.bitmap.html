<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>UI Widgets - Bitmap Component</title>
  <link rel="stylesheet" href="light.css" />
</head>
<body>
  <noscript>niivue requires JavaScript.</noscript>
  <header>
  </header>
  <main>
    <canvas id="gl1"></canvas>
  </main>
  <script type="module" async>
    import * as niivue from "../dist/index.js";

    async function setupBitmapComponent() {
      // Initialize Niivue and attach to canvas
      const nv1 = new niivue.Niivue();
      nv1.attachTo("gl1");
      nv1.setSliceType(nv1.sliceTypeRender);

      // Load bitmap
      const bitmap = new niivue.UIKBitmap(nv1.gl);
      await bitmap.loadBitmap("../images/rorden.png");

      // Define component properties
      const scale = 2.0;
      const position = [
        (nv1.canvas.width - bitmap.getWidth() * scale) / 2,
        (nv1.canvas.height - bitmap.getHeight() * scale) / 2
      ];

      // Create and configure BitmapComponent
      const bitmapComponent = new niivue.BitmapComponent(position, bitmap, scale);
      bitmapComponent.alignmentPoint = niivue.UIKit.alignmentPoint.MIDDLECENTER;

      // Add component to UI and trigger initial drawing
      nv1.ui.addComponent(bitmapComponent);
      nv1.drawScene();

      // Optional: add effects for interactivity
      bitmapComponent.addEventEffect('pointerenter', bitmapComponent, 'scale', 'setValue', scale * 1.1); // Increase scale on hover
      bitmapComponent.addEventEffect('pointerleave', bitmapComponent, 'scale', 'setValue', scale); // Restore scale on leave
    }

    // Execute setup function
    setupBitmapComponent();
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>UI Widgets - Bitmap Component</title>
  <link rel="stylesheet" href="light.css" />
</head>
<body>
  <noscript>niivue requires JavaScript.</noscript>
  <header>
  </header>
  <main>
    <canvas id="gl1"></canvas>
  </main>
  <script type="module" async>
    import * as niivue from "../dist/index.js";

    async function setupBitmapComponent() {
      // Initialize Niivue and attach to canvas
      const nv1 = new niivue.Niivue();
      await nv1.attachTo("gl1");
      nv1.setSliceType(nv1.sliceTypeRender);

      // Load bitmap
      const bitmap = new niivue.UIKBitmap(nv1.gl);
      await bitmap.loadBitmap("../images/rorden.png");

      // Define scale and position for the bitmap component
      const scale = 2.0;
      const position = [
        (nv1.canvas.width - bitmap.getWidth() * scale) / 2,
        (nv1.canvas.height - bitmap.getHeight() * scale) / 2
      ];

      // Create BitmapComponentConfig
      const bitmapConfig = {
        position: position,
        bitmap: bitmap,
        scale: scale,
        alignmentPoint: niivue.UIKit.alignmentPoint.MIDDLECENTER
      };

      // Create BitmapComponent using the configuration
      const bitmapComponent = new niivue.BitmapComponent(bitmapConfig);

      // Add component to UI
      nv1.ui.addComponent(bitmapComponent);

      // Trigger initial rendering
      nv1.drawScene();

      // Add interactivity effects
      bitmapComponent.addEventEffect(
        'pointerenter',
        bitmapComponent,
        'scale',
        'animateValue',
        scale,
        scale * 1.1,
        200 // Duration of the hover animation
      );

      bitmapComponent.addEventEffect(
        'pointerleave',
        bitmapComponent,
        'scale',
        'animateValue',
        scale * 1.1,
        scale,
        200 // Duration of the restore animation
      );
    }

    // Execute the setup function
    setupBitmapComponent();
  </script>
</body>
</html>
